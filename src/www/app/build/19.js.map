{"version":3,"sources":["../../src/pages/resultados-examen/resultados-examen.module.ts","../../src/pages/resultados-examen/resultados-examen.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACW;AAU3D;IAAA;IAAyC,CAAC;IAA7B,0BAA0B;QARtC,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,gFAAoB;aACrB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,gFAAoB,CAAC;aAC/C;SACF,CAAC;OACW,0BAA0B,CAAG;IAAD,iCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZG;AAC+B;AAC9C;AAC8B;AACO;AAChE,8CAAM,CAAC,MAAM,CAAC,IAAI,CAAC;AAOnB;IAME,8BACS,OAAsB,EACtB,SAAoB,EACpB,QAAwB,EACvB,IAAkB;QAHnB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,aAAQ,GAAR,QAAQ,CAAgB;QACvB,SAAI,GAAJ,IAAI,CAAc;QANpB,OAAE,GAAW,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC;IAQ7C,CAAC;IAED,6CAAc,GAAd;QAEE,IAAI,CAAC,cAAc,EAAE,CAAC;QAEtB;;;;;;;;;aASK;IAEP,CAAC;IAEK,6CAAc,GAApB;;;;;4BACiB,qBAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAc,oEAAW,CAAC,WAAW,EAAE,IAAI,CAAC,EAAE,CAAC;;wBAA9E,MAAM,GAAG,SAAqE;wBAChF,CAAC,gBACA,MAAM,IACT,SAAS,EAAE,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,GAC3C;wBACD,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;wBACd,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;;;;;KACtB;IAED,yCAAU,GAAV,UAAW,IAAY;QACrB,OAAO,8CAAM,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE;IAC/B,CAAC;IAED,2CAAY,GAAZ,UAAa,CAAC;QACZ,IAAI,CAAC,CAAC;YAAE,OAAO,CAAC;QAChB,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,QAAC,CAAC,GAAG,CAAC,EAAN,CAAM,CAAC,CAAC,GAAG,CAAC,YAAE,IAAI,SAAE,CAAC,QAAQ,IAAI,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAnC,CAAmC,CAAC,CAAC,MAAM,CAAC,YAAE,IAAI,SAAE,EAAF,CAAE,CAAC,CAAC,MAAM;IACjH,CAAC;IAhDU,oBAAoB;QAJhC,gEAAS,CAAC;YACT,QAAQ,EAAE,wBAAwB;WACG;SACtC,CAAC;6EAQ+B;YACX,qEAAS;YACV,4EAAc;YACjB,YAAY;OAVjB,oBAAoB,CAkDhC;IAAD,CAAC;AAAA;SAlDY,oBAAoB,gB","file":"19.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ResultadosExamenPage } from './resultados-examen';\n\n@NgModule({\n  declarations: [\n    ResultadosExamenPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ResultadosExamenPage),\n  ],\n})\nexport class ResultadosExamenPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/resultados-examen/resultados-examen.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport moment from 'moment'\nimport { DataProvider } from '../../providers/data/data';\nimport { ExamResults, Collections } from '../../app/app.models';\nmoment.locale('es')\n\n@IonicPage({ segment: 'resultado/:id' })\n@Component({\n  selector: 'page-resultados-examen',\n  templateUrl: 'resultados-examen.html',\n})\nexport class ResultadosExamenPage {\n\n  public resultados: any[]\n\n  private id: string = this.navParams.get('id')\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public viewCtrl: ViewController,\n    private data: DataProvider,\n  ) {\n  }\n\n  ionViewDidLoad() {\n\n    this.loadResultados();\n\n    /* this.back.getResultados(this.type, this.back.uid, this.id).subscribe(data => {\n      this.resultados = data.map(r => {\n        let rr = r\n        rr.resultados = Object.keys(rr.resultados).map(key => rr.resultados[key])\n        rr.resultados = rr.resultados.map(rrr => ({isCorrecta: rrr.selected == rrr.pregunta.correcta, ...rrr}))\n        return rr\n      }).reverse()\n    }, err => {\n      this.toast.create({message: 'No se pudieron cargar los resultados...', duration: 2000}).present()\n    }) */\n\n  }\n\n  async loadResultados() {\n    const result = await this.data.getDoc<ExamResults>(Collections.EXAM_RESULT, this.id);\n    let r = {\n      ...result,\n      preguntas: Object.values(result.questions),\n    }\n    console.log(r)\n    this.resultados = [r]\n  }\n\n  formatDate(date: string): string {\n    return moment(date).fromNow()\n  }\n\n  getCorrectas(r): number {\n    if (!r) return 0\n    return Object.keys(r).map(key => r[key]).map(rr => rr.selected == rr.pregunta.correcta).filter(rr => rr).length\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/resultados-examen/resultados-examen.ts"],"sourceRoot":""}