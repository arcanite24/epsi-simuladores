{"version":3,"sources":["../../src/pages/galeria-detail/galeria-detail.module.ts","../../src/pages/galeria-detail/galeria-detail.ts"],"names":[],"mappings":"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","file":"38.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { GaleriaDetailPage } from './galeria-detail';\n\n@NgModule({\n  declarations: [\n    GaleriaDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(GaleriaDetailPage),\n  ],\n})\nexport class GaleriaDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/galeria-detail/galeria-detail.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, LoadingController } from 'ionic-angular';\nimport { ImageViewerController } from 'ionic-img-viewer';\nimport { Observable } from 'rxjs';\nimport { Gallery, Collections, Note } from '../../app/app.models';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { AuthProvider } from '../../providers/auth/auth';\n\n@IonicPage({ segment: 'galeria/:id' })\n@Component({\n  selector: 'page-galeria-detail',\n  templateUrl: 'galeria-detail.html',\n})\nexport class GaleriaDetailPage {\n\n  private id: string = this.navParams.get('id')\n  public uid: string = localStorage.getItem('uid')\n\n  public newNota: any = {text: '', title: ''}\n  public lc: boolean = false\n  public gallery$: Observable<Gallery>\n  public notas$: Observable<Note[]>;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private toast: ToastController,\n    private imgCtrl: ImageViewerController,\n    private afs: AngularFirestore,\n    private load: LoadingController,\n    private auth: AuthProvider,\n  ) {\n  }\n\n  ionViewDidLoad() {\n\n    this.gallery$ = this.afs.collection(Collections.GALLERY).doc<Gallery>(this.id).valueChanges()\n\n    this.auth.user$.subscribe(user => {\n      if (user && !this.notas$) {\n        this.notas$ = this.afs.collection<Note>(Collections.NOTE, ref => ref\n          .where('parent_id', '==', this.id)\n          .where('user', '==', user.uid))\n          .valueChanges();\n      }\n    })\n\n  }\n\n  openImg(img) {\n    this.imgCtrl.create(img).present()\n  }\n\n  async addNota(title: string, text: string) {\n\n    if (!title) return this.toast.create({ message: 'Ingresa un titulo', duration: 2000 }).present()\n    if (!text) return this.toast.create({ message: 'Ingresa un text', duration: 2000 }).present()\n\n    const l = this.load.create({ content: 'Agregando...' })\n    l.present()\n\n    const id = this.afs.createId();\n    await this.afs.collection(Collections.NOTE).doc(id).set({\n      id,\n      title,\n      text,\n      parent_id: this.id,\n      user: this.auth.user.uid,\n    });\n\n    l.dismiss();\n\n    /* this.back.addNota(title, text, this.type, this.id).subscribe(data => {}, err => {\n      this.toast.create({message: 'No se pudo agregar tu nota...', duration: 2000}).present()\n      l.dismiss()\n    }) */\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/galeria-detail/galeria-detail.ts"],"sourceRoot":""}