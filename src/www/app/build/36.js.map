{"version":3,"sources":["../../src/pages/mi-curso/mi-curso.module.ts","../../src/pages/mi-curso/mi-curso.ts"],"names":[],"mappings":"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","file":"36.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MiCursoPage } from './mi-curso';\n\n@NgModule({\n  declarations: [\n    MiCursoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MiCursoPage),\n  ],\n})\nexport class MiCursoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mi-curso/mi-curso.module.ts","import { AuthProvider } from './../../providers/auth/auth';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, LoadingController, Loading } from 'ionic-angular';\nimport { contentHierarchy } from '../../app/app.config';\nimport { Observable } from 'rxjs';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { Collections, Content, User } from '../../app/app.models';\nimport { map, tap } from 'rxjs/operators';\n\n@IonicPage()\n@Component({\n  selector: 'page-mi-curso',\n  templateUrl: 'mi-curso.html',\n})\nexport class MiCursoPage {\n\n  private mainContent: string = [...contentHierarchy].shift();\n  public content$: Observable<Content[]>;\n\n  private l: Loading;\n\n  constructor(\n    private afs: AngularFirestore,\n    public auth: AuthProvider,\n    public navCtrl: NavController,\n    private load: LoadingController,\n  ) {}\n\n  ngOnInit() {\n    this.auth.user$.subscribe(user => user && !this.content$ ? this.loadContent(user) : null);\n    this.l = this.load.create({ content: 'Cargando...' });\n    this.l.present();\n  }\n\n  loadContent(user: User) {\n    this.content$ = this.afs\n      .collection<Content>(Collections.CONTENT, ref =>\n        ref.where('type', '==', this.mainContent)\n      )\n      .valueChanges()\n      .pipe(\n        map(content =>\n          content\n            .filter(c => !c.name.includes('Temprano'))\n            .filter(c => user.isPremium2019 ? true : !c.ignoreOnSmartCalendar)\n            .filter(c => user.isPremium2019 ? true : c.liberadoInPrograma)\n        ),\n        tap(() => this.l.dismiss())\n      );\n  }\n\n  public isBlur(name: string): boolean {\n    if (!this.auth.user) return true;\n    if (!name) return true;\n    if (this.auth.isAdmin) return false;\n    if (this.auth.isZamna360_2019) return false;\n    if (this.auth.isPremium2019) return false;\n    if (name.toLowerCase().includes('temprano')) {\n      return !this.auth.isTemprano;\n    }\n    return false;\n  }\n\n  public isLiberado(content: Content): boolean {\n    if (!this.auth.user) return false;\n    if (this.auth.user.isAdmin) return true;\n    if (this.auth.user.isPremium2019) return true;\n    return content.liberadoInPrograma;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mi-curso/mi-curso.ts"],"sourceRoot":""}