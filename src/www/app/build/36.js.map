{"version":3,"sources":["../../src/pages/clase-detail/clase-detail.module.ts","../../src/pages/clase-detail/clase-detail.ts"],"names":[],"mappings":"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","file":"36.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ClaseDetailPage } from './clase-detail';\n\n@NgModule({\n  declarations: [\n    ClaseDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ClaseDetailPage),\n  ],\n})\nexport class ClaseDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/clase-detail/clase-detail.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, ModalController } from 'ionic-angular';\nimport { BackProvider } from '../../providers/back/back';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { Content, Collections } from '../../app/app.models';\n\n@IonicPage({ segment: 'clase/:id/:type' })\n@Component({\n  selector: 'page-clase-detail',\n  templateUrl: 'clase-detail.html',\n})\nexport class ClaseDetailPage {\n\n  @ViewChild('zamnaPlayer')\n  public video: any\n\n  public clase: any\n  public comentarios: any[]\n  public resultados: any[] = []\n\n  public type: string = this.navParams.get('type')\n  public id: string = this.navParams.get('id')\n\n  public newComentario: string = ''\n  public lc: boolean = false\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private back: BackProvider,\n    private toast: ToastController,\n    private modal: ModalController,\n    private data: AuthProvider\n  ) {\n  }\n\n  ionViewDidLoad() {\n\n    this.loadClase(this.id)\n\n    this.back.getComentarios(this.id, this.type).subscribe(data => this.comentarios = data.reverse())\n    this.back.getResultados(this.type, this.back.uid, this.id).subscribe(data => {\n      this.resultados = data ? data : []\n    })\n\n  }\n\n  openModal(id: string, type: string, modal: string) {\n    const m = this.modal.create(modal, {id, type})\n    m.present()    \n  }\n\n  openExamen(type, id) {\n    if (!this.resultados || this.resultados.length <= 0) {\n      const m = this.modal.create('ExamenDetailPage', {type, id})\n      m.present()\n      m.onDidDismiss(data => {\n        if (!data) return\n        this.back.getResultados(this.type, this.back.uid, this.id).subscribe(data => this.resultados = data ? data : [])\n      })\n    } else {\n      const m = this.modal.create('ResultadosExamenPage', {type, id, user: this.back.uid})\n      m.present()\n    }\n  }\n\n  deleteResultados(type, id) {\n    this.back.deleteResultados(type, this.back.uid, id).subscribe(data => {\n      this.ionViewDidLoad()\n    })\n  }\n\n  sendComentario(text: string) {\n    if (!text) return\n    this.lc = true\n    this.back.addComentario(this.type, this.id, this.back.uid, text).subscribe(data => {\n      this.ionViewDidLoad()\n      this.newComentario = ''\n      this.lc = false\n    }, err => {\n      this.toast.create({message: 'No se pudo agregar tu comentario...', duration: 2000}).present()\n      this.lc = false\n    })\n  }\n\n  goto(time: any) {\n    const horas = parseInt(time.HH) * 3600\n    const minInSecs = parseInt(time.mm) * 60\n    const t = parseInt(time.ss) + minInSecs + horas\n    this.video.nativeElement.currentTime = t; \n  }\n\n  async loadClase(id: string) {\n    this.clase = await this.data.getDoc<Content>(Collections.CONTENT, id)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/clase-detail/clase-detail.ts"],"sourceRoot":""}