{"version":3,"sources":["../../src/pages/stat-view-detail/stat-view-detail.module.ts","../../src/pages/stat-view-detail/stat-view-detail.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACQ;AACD;AAWvD,IAAa,wBAAwB,GAArC,MAAa,wBAAwB;CAAG;AAA3B,wBAAwB;IATpC,+DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,6EAAkB;SACnB;QACD,OAAO,EAAE;YACP,6EAAe;YACf,sEAAe,CAAC,QAAQ,CAAC,6EAAkB,CAAC;SAC7C;KACF,CAAC;GACW,wBAAwB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdK;AACA;AAEe;AACG;AAO5D,IAAa,kBAAkB,GAA/B,MAAa,kBAAkB;IAM7B,YACU,KAAoB,EACpB,IAAkB,EAClB,SAAoB;QAFpB,UAAK,GAAL,KAAK,CAAe;QACpB,SAAI,GAAJ,IAAI,CAAc;QAClB,cAAS,GAAT,SAAS,CAAW;QANvB,SAAI,GAAa,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC5C,QAAG,GAAW,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAM3C,CAAC;IAEL,QAAQ;IAER,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAEK,UAAU,CAAC,CAAW;;YAC1B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YAC1G,CAAC,CAAC,KAAK,GAAG,KAAK;YACf,CAAC,CAAC,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;YAE1F,IAAI,CAAC,SAAS,GAAG;gBACf;oBACE,IAAI,EAAE,UAAU;oBAChB,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;wBACjC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK;wBACjB,KAAK,EAAE,CAAC,CAAC,QAAQ,GAAG,GAAG;qBACxB,CAAC,CAAC;iBACJ;aACF;QACH,CAAC;KAAA;CAEF;AApCY,kBAAkB;IAJ9B,gEAAS,CAAC;QACT,QAAQ,EAAE,uBAAuB;OACG;KACrC,CAAC;mFAQ8B;QACd,kEAAY;QACP,SAAS;AA2B/B;SApCY,kBAAkB,iB","file":"14.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { StatViewDetailPage } from './stat-view-detail';\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\n\n@NgModule({\n  declarations: [\n    StatViewDetailPage,\n  ],\n  imports: [\n    NgxChartsModule,\n    IonicPageModule.forChild(StatViewDetailPage),\n  ],\n})\nexport class StatViewDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stat-view-detail/stat-view-detail.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavParams } from 'ionic-angular';\nimport { StatView } from '../../app/app.models';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { StatsProvider } from '../../providers/stats/stats';\n\n@IonicPage()\n@Component({\n  selector: 'page-stat-view-detail',\n  templateUrl: 'stat-view-detail.html',\n})\nexport class StatViewDetailPage {\n\n  public chartData: any[]\n  public view: StatView = this.navParams.get('view');\n  public uid: string = this.navParams.get('uid');\n\n  constructor(\n    private stats: StatsProvider,\n    private auth: AuthProvider,\n    private navParams: NavParams,\n  ) { }\n\n  ngOnInit() {\n\n  }\n\n  ionViewDidLoad() {\n    this.reloadData(this.view);\n  }\n\n  async reloadData(v: StatView) {\n    const cache = await this.stats.computeTimeline(v.includeTags[0], this.uid ? this.uid : this.auth.user.uid)\n    v.cache = cache\n    v.cache.promedio = v.cache.timeline.map((m: any) => m.promedio).reduce((a, b) => a + b, 0)\n\n    this.chartData = [\n      {\n        name: 'Promedio',\n        series: v.cache.timeline.map(m => ({\n          name: m.mes.label,\n          value: m.promedio * 100\n        }))\n      }\n    ]\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stat-view-detail/stat-view-detail.ts"],"sourceRoot":""}