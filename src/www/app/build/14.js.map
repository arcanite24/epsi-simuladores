{"version":3,"sources":["../../src/pages/resultados-examen/resultados-examen.module.ts","../../src/pages/resultados-examen/resultados-examen.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACW;AAU3D;IAAA;IAAyC,CAAC;IAA7B,0BAA0B;QARtC,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,gFAAoB;aACrB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,gFAAoB,CAAC;aAC/C;SACF,CAAC;OACW,0BAA0B,CAAG;IAAD,iCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZoB;AACjB;AACgD;AAC/D;AAC3B,8CAAM,CAAC,MAAM,CAAC,IAAI,CAAC;AAOnB;IAOE,8BACS,OAAsB,EACtB,SAAoB,EACnB,IAAkB,EAClB,KAAsB,EACvB,QAAwB;QAJxB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,SAAI,GAAJ,IAAI,CAAc;QAClB,UAAK,GAAL,KAAK,CAAiB;QACvB,aAAQ,GAAR,QAAQ,CAAgB;QARzB,SAAI,GAAW,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC;QACzC,OAAE,GAAW,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC;IAS7C,CAAC;IAED,6CAAc,GAAd;QAAA,iBAWC;QAVC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,cAAI;YACvE,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,WAAC;gBAC1B,IAAI,EAAE,GAAG,CAAC;gBACV,EAAE,CAAC,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,SAAE,CAAC,UAAU,CAAC,GAAG,CAAC,EAAlB,CAAkB,CAAC;gBACzE,EAAE,CAAC,UAAU,GAAG,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC,aAAG,IAAI,mBAAE,UAAU,EAAE,GAAG,CAAC,QAAQ,IAAI,GAAG,CAAC,QAAQ,CAAC,QAAQ,IAAK,GAAG,EAAE,EAA7D,CAA6D,CAAC;gBACvG,OAAO,EAAE;YACX,CAAC,CAAC,CAAC,OAAO,EAAE;QACd,CAAC,EAAE,aAAG;YACJ,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,yCAAyC,EAAE,QAAQ,EAAE,IAAI,EAAC,CAAC,CAAC,OAAO,EAAE;QACnG,CAAC,CAAC;IACJ,CAAC;IAED,yCAAU,GAAV,UAAW,IAAY;QACrB,OAAO,8CAAM,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE;IAC/B,CAAC;IAED,2CAAY,GAAZ,UAAa,CAAC;QACZ,IAAI,CAAC,CAAC;YAAE,OAAO,CAAC;QAChB,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,QAAC,CAAC,GAAG,CAAC,EAAN,CAAM,CAAC,CAAC,GAAG,CAAC,YAAE,IAAI,SAAE,CAAC,QAAQ,IAAI,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAnC,CAAmC,CAAC,CAAC,MAAM,CAAC,YAAE,IAAI,SAAE,EAAF,CAAE,CAAC,CAAC,MAAM;IACjH,CAAC;IApCU,oBAAoB;QAJhC,gEAAS,CAAC;YACT,QAAQ,EAAE,wBAAwB;WACG;SACtC,CAAC;6EAS+B;YACX,0EAAS;YACb,sEAAY;YACX,sEAAe;YACb,cAAc;OAZtB,oBAAoB,CAsChC;IAAD,CAAC;AAAA;SAtCY,oBAAoB,gB","file":"14.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ResultadosExamenPage } from './resultados-examen';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ResultadosExamenPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ResultadosExamenPage),\r\n  ],\r\n})\r\nexport class ResultadosExamenPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/resultados-examen/resultados-examen.module.ts","import { BackProvider } from './../../providers/back/back';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ToastController, ViewController } from 'ionic-angular';\r\nimport moment from 'moment'\r\nmoment.locale('es')\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-resultados-examen',\r\n  templateUrl: 'resultados-examen.html',\r\n})\r\nexport class ResultadosExamenPage {\r\n\r\n  public resultados: any[]\r\n\r\n  private type: string = this.navParams.get('type')\r\n  private id: string = this.navParams.get('id')\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private back: BackProvider,\r\n    private toast: ToastController,\r\n    public viewCtrl: ViewController\r\n  ) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.back.getResultados(this.type, this.back.uid, this.id).subscribe(data => {\r\n      this.resultados = data.map(r => {\r\n        let rr = r\r\n        rr.resultados = Object.keys(rr.resultados).map(key => rr.resultados[key])\r\n        rr.resultados = rr.resultados.map(rrr => ({isCorrecta: rrr.selected == rrr.pregunta.correcta, ...rrr}))\r\n        return rr\r\n      }).reverse() \r\n    }, err => {\r\n      this.toast.create({message: 'No se pudieron cargar los resultados...', duration: 2000}).present()\r\n    })\r\n  }\r\n  \r\n  formatDate(date: string): string {\r\n    return moment(date).fromNow()\r\n  }\r\n\r\n  getCorrectas(r): number {\r\n    if (!r) return 0\r\n    return Object.keys(r).map(key => r[key]).map(rr => rr.selected == rr.pregunta.correcta).filter(rr => rr).length\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/resultados-examen/resultados-examen.ts"],"sourceRoot":""}