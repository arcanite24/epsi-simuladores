{"version":3,"sources":["../../src/pages/downloads/downloads.module.ts","../../src/pages/downloads/downloads.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACJ;AAU5C;IAAA;IAAkC,CAAC;IAAtB,mBAAmB;QAR/B,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,iEAAa;aACd;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,iEAAa,CAAC;aACxC;SACF,CAAC;OACW,mBAAmB,CAAG;IAAD,0BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZU;AACmD;AACnD;AAQ1C;IAKE,uBACS,OAAsB,EACtB,SAAoB,EACnB,IAAU,EACV,KAAsB,EACtB,IAAuB;QAJxB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,SAAI,GAAJ,IAAI,CAAM;QACV,UAAK,GAAL,KAAK,CAAiB;QACtB,SAAI,GAAJ,IAAI,CAAmB;QAR1B,WAAM,GAAU,EAAE,CAAC;IAU1B,CAAC;IAED,sCAAc,GAAd;QACE,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAEK,kCAAU,GAAhB;;;;;;wBAEQ,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,gCAAgC,EAAC,CAAC,CAAC;wBACxE,CAAC,CAAC,OAAO,EAAE,CAAC;;;;wBAIG,qBAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,cAAc,CAAC;;wBAAvE,IAAI,GAAG,SAAgE;wBAC7E,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;wBAElB,WAAuB,EAAJ,aAAI,EAAJ,kBAAI,EAAJ,IAAI,EAAE;4BAAd,IAAI;4BACb,IAAI,IAAI,CAAC,MAAM,EAAE;gCAET,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,aAAW,IAAI,CAAC,IAAM,CAAC,CAAC;gCAC1D,IAAI,CAAC,KAAK,GAAG,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC;gCAE1B,IAAI,IAAI,EAAE;oCAEF,KAAK,GAAY,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oCACxC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;oCAEnB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;wCACf,IAAI,EAAE,KAAK,CAAC,IAAI;wCAChB,IAAI,EAAE,IAAI,CAAC,SAAS;wCACpB,EAAE,EAAE,KAAK,CAAC,EAAE;qCACb,CAAC,CAAC;iCAEJ;6BAEF;yBACF;wBAED,CAAC,CAAC,OAAO,EAAE,CAAC;;;;wBAGZ,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,OAAK,CAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAC,CAAC,CAAC,OAAO,EAAE;wBACrE,CAAC,CAAC,OAAO,EAAE,CAAC;wBACZ,IAAI,CAAC,KAAK,GAAG,OAAK,CAAC;;;;;;KAGtB;IA1DU,aAAa;QAJzB,gEAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;WACG;SAC9B,CAAC;6EAO+B;YACX,iEAAS;YACb,sEAAI;YACH,wEAAe;YAChB,UAAiB;OAVtB,aAAa,CA4DzB;IAAD,CAAC;AAAA;SA5DY,aAAa,e","file":"37.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DownloadsPage } from './downloads';\n\n@NgModule({\n  declarations: [\n    DownloadsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DownloadsPage),\n  ],\n})\nexport class DownloadsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/downloads/downloads.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, LoadingController } from 'ionic-angular';\nimport { File } from '@ionic-native/file';\nimport { Content } from '../../app/app.models';\n\n@IonicPage()\n@Component({\n  selector: 'page-downloads',\n  templateUrl: 'downloads.html',\n})\nexport class DownloadsPage {\n\n  public clases: any[] = [];\n  public debug: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private file: File,\n    private toast: ToastController,\n    private load: LoadingController,\n  ) {\n  }\n\n  ionViewDidLoad() {\n    this.loadClases();\n  }\n\n  async loadClases() {\n\n    const l = this.load.create({content: 'Cargando clases descargadas...'});\n    l.present();\n\n    try {\n\n      const list = await this.file.listDir(this.file.dataDirectory, '.zamna-cache');\n      this.debug = list;\n\n      for (const file of list) {\n        if (file.isFile) {\n\n          const data = localStorage.getItem(`offline-${file.name}`);\n          this.debug = {json: data};\n\n          if (data) {\n\n            const clase: Content = JSON.parse(data);\n            this.debug = clase;\n\n            this.clases.push({\n              name: clase.name,\n              path: file.nativeURL,\n              id: clase.id\n            });\n\n          }\n\n        }\n      }\n\n      l.dismiss();\n\n    } catch (error) {\n      this.toast.create({message: error.message, duration: 2000}).present()\n      l.dismiss();\n      this.debug = error;\n    }\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/downloads/downloads.ts"],"sourceRoot":""}