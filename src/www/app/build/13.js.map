{"version":3,"sources":["../../src/pages/stat-view-detail/stat-view-detail.module.ts","../../src/pages/stat-view-detail/stat-view-detail.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACQ;AACD;AAWvD;IAAA;IAAuC,CAAC;IAA3B,wBAAwB;QATpC,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,6EAAkB;aACnB;YACD,OAAO,EAAE;gBACP,6EAAe;gBACf,sEAAe,CAAC,QAAQ,CAAC,6EAAkB,CAAC;aAC7C;SACF,CAAC;OACW,wBAAwB,CAAG;IAAD,+BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdK;AACA;AAEe;AACG;AAO5D;IAME,4BACU,KAAoB,EACpB,IAAkB,EAClB,SAAoB;QAFpB,UAAK,GAAL,KAAK,CAAe;QACpB,SAAI,GAAJ,IAAI,CAAc;QAClB,cAAS,GAAT,SAAS,CAAW;QANvB,SAAI,GAAa,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC5C,QAAG,GAAW,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAM3C,CAAC;IAEL,qCAAQ,GAAR;IAEA,CAAC;IAED,2CAAc,GAAd;QACE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAEK,uCAAU,GAAhB,UAAiB,CAAW;;;;;4BACZ,qBAAM,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;;wBAApG,KAAK,GAAG,SAA4F;wBAC1G,CAAC,CAAC,KAAK,GAAG,KAAK;wBACf,CAAC,CAAC,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAC,CAAM,IAAK,QAAC,CAAC,QAAQ,EAAV,CAAU,CAAC,CAAC,MAAM,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,QAAC,GAAG,CAAC,EAAL,CAAK,EAAE,CAAC,CAAC;wBAE1F,IAAI,CAAC,SAAS,GAAG;4BACf;gCACE,IAAI,EAAE,UAAU;gCAChB,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAC,IAAI,QAAC;oCACjC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK;oCACjB,KAAK,EAAE,CAAC,CAAC,QAAQ,GAAG,GAAG;iCACxB,CAAC,EAHgC,CAGhC,CAAC;6BACJ;yBACF;;;;;KACF;IAlCU,kBAAkB;QAJ9B,gEAAS,CAAC;YACT,QAAQ,EAAE,uBAAuB;WACG;SACrC,CAAC;uFAQ8B;YACd,kEAAY;YACP,SAAS;OATnB,kBAAkB,CAoC9B;IAAD,CAAC;AAAA;SApCY,kBAAkB,iB","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { StatViewDetailPage } from './stat-view-detail';\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\n\n@NgModule({\n  declarations: [\n    StatViewDetailPage,\n  ],\n  imports: [\n    NgxChartsModule,\n    IonicPageModule.forChild(StatViewDetailPage),\n  ],\n})\nexport class StatViewDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stat-view-detail/stat-view-detail.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavParams } from 'ionic-angular';\nimport { StatView } from '../../app/app.models';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { StatsProvider } from '../../providers/stats/stats';\n\n@IonicPage()\n@Component({\n  selector: 'page-stat-view-detail',\n  templateUrl: 'stat-view-detail.html',\n})\nexport class StatViewDetailPage {\n\n  public chartData: any[]\n  public view: StatView = this.navParams.get('view');\n  public uid: string = this.navParams.get('uid');\n\n  constructor(\n    private stats: StatsProvider,\n    private auth: AuthProvider,\n    private navParams: NavParams,\n  ) { }\n\n  ngOnInit() {\n\n  }\n\n  ionViewDidLoad() {\n    this.reloadData(this.view);\n  }\n\n  async reloadData(v: StatView) {\n    const cache = await this.stats.computeTimeline(v.includeTags[0], this.uid ? this.uid : this.auth.user.uid)\n    v.cache = cache\n    v.cache.promedio = v.cache.timeline.map((m: any) => m.promedio).reduce((a, b) => a + b, 0)\n\n    this.chartData = [\n      {\n        name: 'Promedio',\n        series: v.cache.timeline.map(m => ({\n          name: m.mes.label,\n          value: m.promedio * 100\n        }))\n      }\n    ]\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stat-view-detail/stat-view-detail.ts"],"sourceRoot":""}