{"version":3,"sources":["../../src/pages/resultados-examen/resultados-examen.module.ts","../../src/pages/resultados-examen/resultados-examen.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACW;AAU3D;IAAA;IAAyC,CAAC;IAA7B,0BAA0B;QARtC,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,gFAAoB;aACrB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,gFAAoB,CAAC;aAC/C;SACF,CAAC;OACW,0BAA0B,CAAG;IAAD,iCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZoB;AACjB;AACgD;AAC/D;AAC3B,8CAAM,CAAC,MAAM,CAAC,IAAI,CAAC;AAOnB;IAOE,8BACS,OAAsB,EACtB,SAAoB,EACnB,IAAkB,EAClB,KAAsB,EACvB,QAAwB;QAJxB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,SAAI,GAAJ,IAAI,CAAc;QAClB,UAAK,GAAL,KAAK,CAAiB;QACvB,aAAQ,GAAR,QAAQ,CAAgB;QARzB,SAAI,GAAW,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC;QACzC,OAAE,GAAW,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC;IAS7C,CAAC;IAED,6CAAc,GAAd;QAAA,iBAWC;QAVC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,cAAI;YACvE,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,WAAC;gBAC1B,IAAI,EAAE,GAAG,CAAC;gBACV,EAAE,CAAC,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,SAAE,CAAC,UAAU,CAAC,GAAG,CAAC,EAAlB,CAAkB,CAAC;gBACzE,EAAE,CAAC,UAAU,GAAG,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC,aAAG,IAAI,mBAAE,UAAU,EAAE,GAAG,CAAC,QAAQ,IAAI,GAAG,CAAC,QAAQ,CAAC,QAAQ,IAAK,GAAG,EAAE,EAA7D,CAA6D,CAAC;gBACvG,OAAO,EAAE;YACX,CAAC,CAAC,CAAC,OAAO,EAAE;QACd,CAAC,EAAE,aAAG;YACJ,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,yCAAyC,EAAE,QAAQ,EAAE,IAAI,EAAC,CAAC,CAAC,OAAO,EAAE;QACnG,CAAC,CAAC;IACJ,CAAC;IAED,yCAAU,GAAV,UAAW,IAAY;QACrB,OAAO,8CAAM,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE;IAC/B,CAAC;IAED,2CAAY,GAAZ,UAAa,CAAC;QACZ,IAAI,CAAC,CAAC;YAAE,OAAO,CAAC;QAChB,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,QAAC,CAAC,GAAG,CAAC,EAAN,CAAM,CAAC,CAAC,GAAG,CAAC,YAAE,IAAI,SAAE,CAAC,QAAQ,IAAI,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAnC,CAAmC,CAAC,CAAC,MAAM,CAAC,YAAE,IAAI,SAAE,EAAF,CAAE,CAAC,CAAC,MAAM;IACjH,CAAC;IApCU,oBAAoB;QAJhC,gEAAS,CAAC;YACT,QAAQ,EAAE,wBAAwB;WACG;SACtC,CAAC;6EAS+B;YACX,0EAAS;YACb,sEAAY;YACX,sEAAe;YACb,cAAc;OAZtB,oBAAoB,CAsChC;IAAD,CAAC;AAAA;SAtCY,oBAAoB,gB","file":"16.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ResultadosExamenPage } from './resultados-examen';\n\n@NgModule({\n  declarations: [\n    ResultadosExamenPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ResultadosExamenPage),\n  ],\n})\nexport class ResultadosExamenPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/resultados-examen/resultados-examen.module.ts","import { BackProvider } from './../../providers/back/back';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, ViewController } from 'ionic-angular';\nimport moment from 'moment'\nmoment.locale('es')\n\n@IonicPage()\n@Component({\n  selector: 'page-resultados-examen',\n  templateUrl: 'resultados-examen.html',\n})\nexport class ResultadosExamenPage {\n\n  public resultados: any[]\n\n  private type: string = this.navParams.get('type')\n  private id: string = this.navParams.get('id')\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private back: BackProvider,\n    private toast: ToastController,\n    public viewCtrl: ViewController\n  ) {\n  }\n\n  ionViewDidLoad() {\n    this.back.getResultados(this.type, this.back.uid, this.id).subscribe(data => {\n      this.resultados = data.map(r => {\n        let rr = r\n        rr.resultados = Object.keys(rr.resultados).map(key => rr.resultados[key])\n        rr.resultados = rr.resultados.map(rrr => ({isCorrecta: rrr.selected == rrr.pregunta.correcta, ...rrr}))\n        return rr\n      }).reverse() \n    }, err => {\n      this.toast.create({message: 'No se pudieron cargar los resultados...', duration: 2000}).present()\n    })\n  }\n  \n  formatDate(date: string): string {\n    return moment(date).fromNow()\n  }\n\n  getCorrectas(r): number {\n    if (!r) return 0\n    return Object.keys(r).map(key => r[key]).map(rr => rr.selected == rr.pregunta.correcta).filter(rr => rr).length\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/resultados-examen/resultados-examen.ts"],"sourceRoot":""}