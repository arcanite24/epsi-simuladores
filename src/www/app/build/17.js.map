{"version":3,"sources":["../../src/pages/slide-detail/slide-detail.module.ts","../../src/pages/slide-detail/slide-detail.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SlideDetailPage } from './slide-detail';\n\n@NgModule({\n  declarations: [\n    SlideDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SlideDetailPage),\n  ],\n})\nexport class SlideDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/slide-detail/slide-detail.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Slides, Slide, ToastController, LoadingController } from 'ionic-angular';\nimport { ImageViewerController } from 'ionic-img-viewer';\nimport { Observable } from 'rxjs';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { Collections, Note } from '../../app/app.models';\nimport { AuthProvider } from '../../providers/auth/auth';\n\n@IonicPage({ segment: \"presentacion/:id\" })\n@Component({\n  selector: \"page-slide-detail\",\n  templateUrl: \"slide-detail.html\"\n})\nexport class SlideDetailPage {\n  public slide$: Observable<Slide>;\n  public notas$: Observable<Note[]>;\n  private id: string = this.navParams.get(\"id\");\n\n  public lc: boolean = false;\n  public newNota: any = { title: \"\", text: \"\" };\n\n  @ViewChild(Slides) slides: Slides;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private afs: AngularFirestore,\n    private imgCtrl: ImageViewerController,\n    private toast: ToastController,\n    private auth: AuthProvider,\n    private load: LoadingController\n  ) {}\n\n  ionViewDidLoad() {\n    this.slide$ = this.afs\n      .collection(Collections.SLIDE)\n      .doc<Slide>(this.id)\n      .valueChanges();\n\n    this.auth.user$.subscribe(user => {\n      if (user && !this.notas$) {\n        this.notas$ = this.afs\n          .collection<Note>(Collections.NOTE, ref =>\n            ref.where(\"parent_id\", \"==\", this.id).where(\"user\", \"==\", user.uid)\n          )\n          .valueChanges();\n      }\n    });\n  }\n\n  openSlide(img) {\n    this.imgCtrl.create(img).present();\n  }\n\n  async addNota(title: string, text: string) {\n    if (!title)\n      return this.toast\n        .create({ message: \"Ingresa un titulo\", duration: 2000 })\n        .present();\n    if (!text)\n      return this.toast\n        .create({ message: \"Ingresa un text\", duration: 2000 })\n        .present();\n\n    const l = this.load.create({ content: \"Agregando...\" });\n    l.present();\n\n    const id = this.afs.createId();\n    await this.afs\n      .collection(Collections.NOTE)\n      .doc(id)\n      .set({\n        id,\n        title,\n        text,\n        parent_id: this.id,\n        user: this.auth.user.uid\n      });\n\n    l.dismiss();\n    this.newNota = {title: '', text: ''};\n\n  }\n\n  onSlideChange() {\n    //this.index = this.slides.getActiveIndex()\n    //\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/slide-detail/slide-detail.ts"],"sourceRoot":""}